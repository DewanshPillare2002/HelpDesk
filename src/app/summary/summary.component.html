<div class="outer">
  <div class="outer1">
    <div class="parking-heading">
      <h1 class="gradient">Parking Checkout</h1>
    </div>
 
    <div class="payment-container">
      <div class="payment-summary">
        <div class="details">
          <div style="color: white; font-size: larger; display: flex; align-items: center;"><img class="icons"
              src="Payment/753118_parking_car_packing_sign_vehicle_icon.png" alt="">Vehicle & Parking Details</div>
          <div class="hz"></div>
          <div class="details-capsule" *ngIf="type==='parkingPayments'" style="margin-top: 20px;">
            <div class="summary-element">
              <div style="display: flex; align-items: center;">
                <img class="icons" src="Payment\icons8-user-30.png" style="width: 20px; height: 20px;" alt="">
                <strong>User ID :</strong>
              </div>
              <p>{{ paymentDetails.userId }}</p>
            </div>
            <div class="summary-element">
              <div style="display: flex; align-items: center;">
                <img class="icons" src="Payment\icons8-parking-50.png" style="padding: 4px;" alt="">
                <strong>Parking :</strong>
              </div>
              <p>{{ paymentDetails.period }}</p>
            </div>
           
            <div id="duration" class="summary-element">
              <div style="display: flex; align-items: center;">
                <img class="icons" style="width: 12px" src="Payment/2075826_clock_duration_notification_time_icon.svg"
                  alt="">
                <strong>Duration :</strong>
              </div>
              <p>{{ paymentDetails.date }}</p>
            </div>
            <div id="slot" class="summary-element">
              <div style="display: flex; align-items: center;">
                <img class="icons" style="width: 18px;" src="Payment/3586361_location_map_navigation_pointer_icon.svg"
                  alt="">
                <strong>Parking Slot :</strong>
              </div>
              <p>Slot {{ paymentDetails.slot }}</p>
            </div>
           
          </div>
 
 
          <div class="details-capsule" *ngIf="type==='subscriptions'" style="margin-top: 20px;">
            <div class="summary-element"><strong>User ID :</strong>
              <p>{{ paymentDetails.userId }}</p>
            </div>
            <div class="summary-element">
              <div style="display: flex; align-items: center;">
                <img class="icons" src="Payment/510869_calendar_date_event_schedule_icon.svg" alt="">
                <strong>Plan :</strong>
              </div>
              <p>{{ paymentDetails.plan }}</p>
            </div>
            <div id="duration" class="summary-element">
              <div style="display: flex; align-items: center;">
                <img class="icons" style="width: 12px" src="Payment/2075826_clock_duration_notification_time_icon.svg"
                  alt="">
                <strong>Period :</strong>
              </div>
              <p>{{ paymentDetails.period }}</p>
            </div>
          </div>
 
 
          <div class="details-capsule" *ngIf="type==='penalty'" style="margin-top: 20px;">
            <div class="summary-element"><strong>Vehicle No :</strong>
              <p>{{ paymentDetails.vehicle_no }}</p>
            </div>
            <div class="summary-element">
              <div style="display: flex; align-items: center;">
                <img class="icons" src="Payment/510869_calendar_date_event_schedule_icon.svg" alt="">
                <strong>Overstay Hours :</strong>
              </div>
              <p>{{ paymentDetails.overstay_hours }}</p>
            </div>
            <div class="summary-element">
              <div style="display: flex; align-items: center;">
                <img class="icons" style="width: 14px;" src="Payment/326689_schedule_icon.svg" alt="">
                <strong>Fine Amount :</strong>
              </div>
              <p>{{ paymentDetails.fine }}</p>
            </div>
            <div id="duration" class="summary-element">
              <div style="display: flex; align-items: center;">
                <img class="icons" style="width: 12px" src="Payment/2075826_clock_duration_notification_time_icon.svg"
                  alt="">
                <strong>Total Due :</strong>
              </div>
              <p>{{ paymentDetails.total }}</p>
            </div>
          </div>
 
        </div>
        <div class="payment-method">
          <div class="method card">
            <div class="card-header">
              <h3 class="card-title"><img src="Payment/payment.png" alt="" class="icons"> Payment Method</h3>
              <div class="hz"></div>
            </div>
            <div class="card-content">
              <!-- Dropdown -->
              <div class="dropdown-container1">
                <div class="dropdown-trigger1" (click)="toggleDropdown()">
                  <span>
                    {{ selectedMethod ? getLabel(selectedMethod) : 'Choose payment method' }}
                  </span>
                  <span class="arrow" [class.open]="isDropdownOpen">‚ñº</span>
                </div>
                <!-- Dropdown menu -->
                <div *ngIf="isDropdownOpen" class="dropdown-menu1">
                  <div class="dropdown-item1" (click)="selectMethod('creditCard')">üí≥ Credit/Debit Card</div>
                  <div class="dropdown-item1" (click)="selectMethod('upi')">üì± UPI Payment</div>
                  <!-- <div class="dropdown-item" (click)="selectMethod('netbanking')">üè¶ Net Banking</div> -->
                  <div class="dropdown-item1" (click)="selectMethod('cash')">üíµ Cash</div>
                </div>
              </div>
              <form [formGroup]="paymentForm" (ngSubmit)="confirmPayment()" autocomplete="off">
                <!-- Animated section for forms -->
                <div class="method-form" *ngIf="selectedMethod">
                  <div [ngClass]="['form-wrapper', showForm ? 'show' : '']">
 
                    <!-- Card form -->
                    <ng-container *ngIf="selectedMethod === 'creditCard'" formGroupName="creditCard">
                      <label>Card Number</label>
                      <input type="text" formControlName="cardNumber" placeholder="1234 5678 9012 3456">
                      <div class="error" *ngIf="cardNumber?.invalid && (cardNumber?.touched || cardNumber?.dirty )">
                        Invalid card number.
                      </div>
                      <label>Expiry</label>
                      <input type="text" formControlName="expiry" placeholder="MM/YY">
                      <div class="error"
                        *ngIf="paymentForm.get('creditCard.expiry')?.invalid && paymentForm.get('creditCard.expiry')?.touched">
                        Expiry is required.
                      </div>
                      <label>CVV</label>
                      <input type="password" formControlName="cvc" placeholder="***">
                      <div class="error"
                        *ngIf="paymentForm.get('creditCard.cvc')?.invalid && paymentForm.get('creditCard.cvc')?.touched">
                        Invalid CVV.
                      </div>
                    </ng-container>
 
                    <!-- UPI form -->
                    <ng-container *ngIf="selectedMethod === 'upi'" formGroupName="upi">
                      <label>UPI ID</label>
                      <input type="text" formControlName="upiId" placeholder="example@upi">
                      <div class="error"
                        *ngIf="paymentForm.get('upi.upiId')?.invalid && (paymentForm.get('upi.upiId')?.touched || paymentForm.get('upi.upiId')?.dirty )">
                        Invalid UPI ID.
                      </div>
                    </ng-container>
 
                    <!-- Cash -->
                    <ng-container *ngIf="selectedMethod === 'cash'">
                      <p class="info-text">Please pay cash at the counter.</p>
                    </ng-container>
 
                  </div>
                </div>
 
                <!-- Payment Buttons -->
                <div class="confirm-payment">
                  <button id="confirm-payment" type="submit">PAY NOW
                    <img style="filter: invert;" width="30" height="30"
                      src="https://img.icons8.com/ios-glyphs/30/long-arrow-right.png" alt="long-arrow-right" />
                  </button>
                  <button id="cancel" type="button">Cancel</button>
                </div>
              </form>
              <p style="font-size: 10px; text-align: center; color: gray;">Your payment is secured with 256-bit SSL
                encryption.</p>
            </div>
          </div>
 
 
 
 
 
        </div>
 
      </div>
 
      <div class="charges">
        <div style="padding: 10px 0px; font-size: larger;">Billing Summary</div>
 
        <div class="flex1">
          <p>Base Charge </p><span> {{ charges.baseCharge }}</span>
        </div>
        <div class="flex1">
          <p>Additional Charges</p><span> {{ charges.extraCharge }}</span>
        </div>
        <div class="flex1">
          <p>Taxes</p><span> {{ charges.tax }}</span>
        </div>
        <div class="hz"></div>
        <div class="flex1">
          <h4 style="display: inline-block;">Total Amount : </h4> <span id="total-amount"> {{ charges.totalAmount
            }}</span>
        </div>
 
      </div>
    </div>
  </div>
  <footer class="footer">
    <div class="footer-container">
 
      <div class="footer-brand">
 
        <p class="tagline">Park Smart. Pay Secure.</p>
      </div>
 
      <!-- Security Info -->
      <div class="footer-security">
        <p>üîí Secure Payments</p>
        <small>UPI ‚Ä¢ Credit/Debit Cards ‚Ä¢ Net Banking ‚Ä¢ Cash</small>
      </div>
 
 
      <div class="footer-links">
        <a href="#">Terms</a>
        <a href="#">Privacy</a>
        <a href="#">Refund Policy</a>
        <a href="#">Contact</a>
      </div>
 
 
      <div class="footer-support">
        <p>üìû +91-9876543210 | ‚úâ support&#64;smartparking.com</p>
      </div>
 
 
      <div class="footer-copy">
        <small>¬© 2025 Smart Parking System. All Rights Reserved.</small>
      </div>
    </div>
  </footer>
 
</div>